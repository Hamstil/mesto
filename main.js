(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=function(){function n(e,r,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t(this,"_handleDel",(function(){i._element.remove(),i._element=null})),t(this,"_handleLike",(function(e){e.target.classList.toggle("element__like_enable")})),this._name=e.name,this._link=e.link,this._cardTemlateSelector=r,this._viewImageCard=o,this._element=this._getTemplate(),this._image=this._element.querySelector(".element__image")}var r,o;return r=n,(o=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardTemlateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._setEventListener(),this._image.src=this._link,this._image.alt=this._name,this._element.querySelector(".element__title").textContent=this._name,this._element}},{key:"_setEventListener",value:function(){var e=this;this._element.querySelector(".element__like").addEventListener("click",this._handleLike),this._element.querySelector(".element__trash").addEventListener("click",this._handleDel),this._image.addEventListener("click",(function(){e._viewImageCard(e._name,e._link)}))}}])&&e(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),n}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._objectFormValid=t,this._formElement=n}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"_setEventListeners",value:function(){var e=this;this._inputList=Array.from(this._formElement.querySelectorAll(this._objectFormValid.inputSelector)),this._buttonElement=this._formElement.querySelector(this._objectFormValid.submitButtonSelector),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e._toggleButtonState()}))}))}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){this._error=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.add(this._objectFormValid.inputErrorClass),this._error.textContent=t,this._error.classList.add(this._objectFormValid.errorClass)}},{key:"_hideInputError",value:function(e){this._error=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.remove(this._objectFormValid.inputErrorClass),this._error.classList.remove(this._objectFormValid.errorClass),this._error.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disabledButton():this.activateButton()}},{key:"disabledButton",value:function(){this._buttonElement.setAttribute("disabled","disabled"),this._buttonElement.classList.add(this._objectFormValid.inactiveButtonClass)}},{key:"activateButton",value:function(){this._buttonElement.removeAttribute("disabled"),this._buttonElement.classList.remove(this._objectFormValid.inactiveButtonClass)}},{key:"clearError",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this.disabledButton()}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this.renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e.renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._closePopupByEsc=this._closePopupByEsc.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_is-opened"),document.addEventListener("keydown",this._closePopupByEsc)}},{key:"close",value:function(){this._popup.classList.remove("popup_is-opened"),document.removeEventListener("keydown",this._closePopupByEsc)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){(t.target===t.currentTarget||t.target.classList.contains("popup__close"))&&e.close()}))}},{key:"_closePopupByEsc",value:function(e){"Escape"===e.key&&this.close()}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function y(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).imagePopup=t._popup.querySelector(".popup__image"),t.text=t._popup.querySelector(".popup__text"),t}return t=u,(n=[{key:"open",value:function(e,t){this.imagePopup.src=t,this.imagePopup.alt=e,this.text.textContent=e,p(h(u.prototype),"open",this).call(this)}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function g(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function u(e,t){var n,r,o,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c=function(){E((n=w(r),j(u.prototype)),"close",n).call(n),r._form.reset()},(a="close")in(o=w(r=i.call(this,e)))?Object.defineProperty(o,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[a]=c,r._callbackSubmitForm=t,r._popup=document.querySelector(e),r._form=r._popup.querySelector(".popup-form"),r._formInputs=r._form.querySelectorAll(".popup-form__input"),r}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this._formInputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"setInputValues",value:function(e){this._formInputs.forEach((function(t){t.value=e[t.name]}))}},{key:"setEventListenersForm",value:function(){var e=this;E(j(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._callbackSubmitForm(e._getInputValues()),e.close()}))}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t){var n=t.nameInput,r=t.jobInput;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._description=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._description.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._description.textContent=e.job}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),L={formSelector:".popup-form",inputSelector:".popup-form__input",submitButtonSelector:".popup-form__button",inactiveButtonClass:"popup-form__button_disabled",inputErrorClass:"popup-form__input_type_error",errorClass:"popup-form__error_active"},I=document.querySelector(".profile__edit-button"),C=document.querySelector(".profile__add-card-button"),q=document.querySelector(".popup-form_type_edit"),B=document.querySelector(".popup-form_type_add");function x(e){var t=new n(e,".cards-element",A).generateCard();return R.addItem(t),t}var R=new u({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:x},".elements-content");R.renderItems();var V=new O(".popup_edit_card",(function(e){R.addItem(x(e)),z.disabledButton()}));V.setEventListenersForm(),C.addEventListener("click",(function(){z.clearError(),V.open()}));var T=new P({nameInput:".profile__title",jobInput:".profile__subtitle"}),F=new O(".popup_edit_profile",(function(e){T.setUserInfo(e),U.disabledButton()}));F.setEventListenersForm(),I.addEventListener("click",(function(){F.setInputValues(T.getUserInfo()),U.clearError(),F.open()}));var D=new m(".popup_view_image");function A(e,t){D.open(e,t)}D.setEventListeners();var U=new o(L,q);U.enableValidation();var z=new o(L,B);z.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFDM0IsQ0FMRGlILEVBQWVDLG9CQVNmLElBQU1KLEVBQW9CLElBQUk5RixFQUFjeUUsRUFBc0JJLEdBQ2xFaUIsRUFBa0JLLG1CQUVsQixJQUFNWixFQUFtQixJQUFJdkYsRUFBY3lFLEVBQXNCSyxHQUNqRVMsRUFBaUJZLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2RhdGEuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRUZW1sYXRlU2VsZWN0b3IsIHZpZXdJbWFnZUNhcmQpe1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9jYXJkVGVtbGF0ZVNlbGVjdG9yID0gY2FyZFRlbWxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX3ZpZXdJbWFnZUNhcmQgPSB2aWV3SW1hZ2VDYXJkO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJyk7XHJcbiAgfVxyXG5cclxuICAvLyDRiNCw0LHQu9C+0L0g0LrQsNGA0YLQvtGH0LrQuFxyXG4gIF9nZXRUZW1wbGF0ZSAoKSB7XHJcbiAgICBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRUZW1sYXRlU2VsZWN0b3IpLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZFRlbXBsYXRlO1xyXG4gIH1cclxuXHJcbiAgLy8g0YHQsNC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4INC4INC30LDQv9C+0LvQvdC10L3QuNC1XHJcbiAgZ2VuZXJhdGVDYXJkICgpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGl0bGUnKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8vINGE0YPQvdC60YbQuNGPINGD0LTQsNC70LXQvdC40Y9cclxuICBfaGFuZGxlRGVsID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgLy8g0YTRg9C90LrRhtC40Y8g0LvQsNC50LrQsFxyXG4gIF9oYW5kbGVMaWtlID0gKGV2dCkgPT4ge1xyXG4gICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudF9fbGlrZV9lbmFibGVcIik7XHJcbiAgfVxyXG5cclxuICAvLyDRgdC70YPRiNCw0YLQtdC70Lgg0YHQvtCx0YvRgtC40LlcclxuICBfc2V0RXZlbnRMaXN0ZW5lciAoKSB7XHJcblxyXG4gICAgLy8g0YHQu9GD0YjQsNGC0LXQu9GMINC70LDQudC60LBcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUxpa2UpO1xyXG5cclxuICAgIC8vINGB0LvRg9GI0LDRgtC10LvRjCDRg9C00LDQu9C10L3QuNGPXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190cmFzaCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRGVsKTtcclxuXHJcbiAgICAvLyDRgdC70YPRiNCw0YLQtdC70Ywg0LTQu9GPINC+0YLQutGA0YvRgtC40Y8gcG9wdXAgaW1hZ2VcclxuICAgIHRoaXMuX2ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl92aWV3SW1hZ2VDYXJkKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuXHJcbiIsImV4cG9ydCBjbGFzcyBGcm9tVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihvYmplY3RGb3JtVmFsaWQsIGZvcm1FbGVtZW50KXtcclxuICAgICAgdGhpcy5fb2JqZWN0Rm9ybVZhbGlkID0gb2JqZWN0Rm9ybVZhbGlkO1xyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgLy8g0YTRg9C90YbQuNGPINCy0LrQu9GO0YfQtdC90LjRjyDQstCw0LvQuNC00LDRhtC40LhcclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIC8vINGE0YPQvdC60YbQuNGPINGB0LvRg9GI0LDRgtC10LvRjCDRgdC+0LHRi9GC0LjQuSDQstCy0L7QtNCwXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fb2JqZWN0Rm9ybVZhbGlkLmlucHV0U2VsZWN0b3IpKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX29iamVjdEZvcm1WYWxpZC5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faXNWYWxpZChpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDQv9GA0L7QstC10YDQutCwINC/0L7Qu9GPINC90LAg0LLQsNC70LjQtNC90L7RgdGC0YxcclxuICBfaXNWYWxpZChpbnB1dEVsZW1lbnQpe1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpe1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINGE0YPQvdC60YbQuNGPINC/0L7QutCw0LfQsCDQvtGI0LjQsdC60LhcclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2Upe1xyXG4gICAgdGhpcy5fZXJyb3IgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9vYmplY3RGb3JtVmFsaWQuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yLnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgdGhpcy5fZXJyb3IuY2xhc3NMaXN0LmFkZCh0aGlzLl9vYmplY3RGb3JtVmFsaWQuZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvLyDRhNGD0L3QutGG0LjRjyDRgdC60YDRi9GC0LjRjyDQvtGI0LjQsdC60LhcclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KXtcclxuICAgIHRoaXMuX2Vycm9yID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fb2JqZWN0Rm9ybVZhbGlkLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB0aGlzLl9lcnJvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX29iamVjdEZvcm1WYWxpZC5lcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yLnRleHRDb250ZW50ID0gJyc7XHJcbiAgfVxyXG5cclxuICAvLyDQv9GA0L7QstC10YDQutCwINC00LLRg9GFINC/0L7Qu9C10Lkg0L3QsCDQstCw0LvQuNC00L3QvtGB0YLRjCDQtNC70Y8g0L/QtdGA0LXQutC70Y7Rh9C10L3QuNGPINGB0L7RgdGC0L7Rj9C90LjRjyDQutC90L7Qv9C60LhcclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g0YTRg9C90LrRhtC40Y8g0L/QtdGA0LXQutC70Y7Rh9C10L3QuNC1INGB0L7RgdGC0L7Rj9C90LjRjyDQutC90L7Qv9C60LhcclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKXtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSl7XHJcbiAgICAgIHRoaXMuZGlzYWJsZWRCdXR0b24oKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmFjdGl2YXRlQnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDRhNGD0L3QutGG0LjRjyDQvtGC0LrQu9GO0YfQtdC90LjRjyDQutC90L7Qv9C60LhcclxuICBkaXNhYmxlZEJ1dHRvbiAoKSB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fb2JqZWN0Rm9ybVZhbGlkLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy8g0YTRg9C90LrRhtC40Y8g0LLQutC70Y7Rh9C10L3QuNGPINC60L3QvtC/0LrQuFxyXG4gIGFjdGl2YXRlQnV0dG9uICgpIHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fb2JqZWN0Rm9ybVZhbGlkLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy8g0YTRg9C90LrRhtC40Y8g0L7RgtGH0LjRgdGC0LrQuCDQvtGI0LjQsdC+0LpcclxuICBjbGVhckVycm9yKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmRpc2FibGVkQnV0dG9uKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBzZWxlY3RvckNvbnRhaW5lcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JDb250YWluZXIpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMucmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yUG9wdXApIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvclBvcHVwKTtcclxuICAgIHRoaXMuX2Nsb3NlUG9wdXBCeUVzYyA9IHRoaXMuX2Nsb3NlUG9wdXBCeUVzYy5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgLy8g0YTRg9C90LrRhtC40Y8g0L7RgtC60YDRi9GC0LjRjyBwb3B1cFxyXG5vcGVuICgpIHtcclxuICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfaXMtb3BlbmVkXCIpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2Nsb3NlUG9wdXBCeUVzYyk7XHJcbn1cclxuXHJcbi8vINGE0YPQvdC60YbQuNGPINC30LDQutGA0YvRgtC40Y8gcG9wdXBcclxuY2xvc2UgKCkge1xyXG4gIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9pcy1vcGVuZWRcIik7XHJcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fY2xvc2VQb3B1cEJ5RXNjKTtcclxufVxyXG5cclxuLy8g0YHQu9GI0LDRgtC10LvRjCDQt9Cw0LrRgNGL0YLQuNGPINC/0L4g0LrQu9C40LrRgyDQvdCwINC60YDQtdGB0YLQuNC6INC4INC+0LLQtdGA0LvQtdC5XHJcbnNldEV2ZW50TGlzdGVuZXJzICgpIHtcclxuICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlJykpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG4vLyDRhNGD0L3QutGG0LjRjyDQt9Cw0LrRgNGL0YLQuNGPIHBvcHVwINC/0L4gZXNjXHJcbl9jbG9zZVBvcHVwQnlFc2MgKGV2dCkge1xyXG4gIGlmIChldnQua2V5ID09PSAnRXNjYXBlJyl7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG59XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yUG9wdXApIHtcclxuICAgICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XHJcbiAgICAgIHRoaXMuaW1hZ2VQb3B1cCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICAgICAgdGhpcy50ZXh0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX190ZXh0Jyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgIHRoaXMuaW1hZ2VQb3B1cC5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5pbWFnZVBvcHVwLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLnRleHQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihzZWxlY3RvclBvcHVwLCBjYWxsYmFja1N1Ym1pdEZvcm0pIHtcclxuICAgIHN1cGVyKHNlbGVjdG9yUG9wdXApO1xyXG4gICAgdGhpcy5fY2FsbGJhY2tTdWJtaXRGb3JtID0gY2FsbGJhY2tTdWJtaXRGb3JtO1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yUG9wdXApO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1mb3JtJyk7XHJcbiAgICB0aGlzLl9mb3JtSW5wdXRzID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAtZm9ybV9faW5wdXQnKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcyAoKSB7XHJcbiAgICBjb25zdCBmb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9mb3JtSW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBmb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5fZm9ybUlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVyc0Zvcm0gKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fY2FsbGJhY2tTdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlID0gKCkgPT4ge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcblxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3Ioe25hbWVJbnB1dCwgam9iSW5wdXR9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lSW5wdXQpO1xyXG4gICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYklucHV0KTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvICgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGpvYjogdGhpcy5fZGVzY3JpcHRpb24udGV4dENvbnRlbnRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgICh7bmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCwgam9iOiB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudH0gPSBkYXRhKTtcclxuICB9XHJcbn1cclxuIiwiLy8g0LzQsNGB0YHQuNCyINC00LvRjyDRgNC10L3QtNC10YDQsCDQv9C+INGD0LzQvtC70YfQsNC90LjRjlxyXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogJ9CQ0YDRhdGL0LcnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9CY0LLQsNC90L7QstC+JyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9CR0LDQudC60LDQuycsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnXHJcbiAgfVxyXG5dO1xyXG5cclxuLy8g0JLRi9Cx0L7RgCDQstGB0LXRhSDRhNC+0YDQvCDQv9C+0LvQtdC5INCy0LLQvtC00LAg0Lgg0Y3Qu9C10LzQtdC90YLQvtCyINC00LvRjyDQvtGI0LjQsdC+0LpcclxuY29uc3Qgb2JqZWN0RnJvbVZhbGlkYXRpb24gPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwLWZvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXAtZm9ybV9faW5wdXQnLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwLWZvcm1fX2J1dHRvbicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwLWZvcm1fX2J1dHRvbl9kaXNhYmxlZCcsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXAtZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JDbGFzczogJ3BvcHVwLWZvcm1fX2Vycm9yX2FjdGl2ZSdcclxufTtcclxuXHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBcIi5wb3B1cF9lZGl0X3Byb2ZpbGVcIjtcclxuY29uc3QgcG9wdXBFZGl0Q2FyZCA9IFwiLnBvcHVwX2VkaXRfY2FyZFwiO1xyXG5jb25zdCBwb3B1cFZpZXdJbWFnZSA9IFwiLnBvcHVwX3ZpZXdfaW1hZ2VcIjtcclxuXHJcbi8vINCS0YvQsdC+0YAg0LrQvtC90YLQtdC50L3QtdGA0LAg0L/QvtC0INGI0LDQsdC70L7QvSDQuCDRgdCw0Lwg0YjQsNCx0LvQvtC9XHJcbmNvbnN0IGVsZW1lbnRDb250YWluZXIgPSBcIi5lbGVtZW50cy1jb250ZW50XCI7XHJcblxyXG5jb25zdCBwcm9maWxlVGl0bGUgPSBcIi5wcm9maWxlX190aXRsZVwiO1xyXG5jb25zdCBwcm9maWxlU3VidGl0bGUgPSBcIi5wcm9maWxlX19zdWJ0aXRsZVwiO1xyXG5cclxuLy8g0JLRi9Cx0L7RgCDQutC90L7Qv9C+0Log0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjywg0LTQvtCx0LDQstC70LXQvdC40Y8g0Lgg0LfQsNC60YDRi9GC0LjRj1xyXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7IC8v0LrQvdC+0L/QutCwINC+0YLQutGA0YvRgtC40Y8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZUFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1jYXJkLWJ1dHRvblwiKTsgLy8g0LrQvdC+0L/QutCwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuXHJcbi8vINCS0YvQsdC+0YAg0YTQvtGA0LxcclxuY29uc3QgZm9ybVR5cGVFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1mb3JtX3R5cGVfZWRpdFwiKTsgLy8g0YTQvtGA0LzQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IGZvcm1UeXBlQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1mb3JtX3R5cGVfYWRkXCIpOyAvLyDRhNC+0YDQvNCwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuXHJcbmV4cG9ydCB7aW5pdGlhbENhcmRzLCBvYmplY3RGcm9tVmFsaWRhdGlvbixcclxuICAgcG9wdXBFZGl0UHJvZmlsZSwgcG9wdXBFZGl0Q2FyZCwgcG9wdXBWaWV3SW1hZ2UsXHJcbiAgICBlbGVtZW50Q29udGFpbmVyLCBwcm9maWxlVGl0bGUsIHByb2ZpbGVTdWJ0aXRsZSxcclxuICAgIHByb2ZpbGVFZGl0QnV0dG9uLCBwcm9maWxlQWRkQ2FyZEJ1dHRvbiwgZm9ybVR5cGVFZGl0LCBmb3JtVHlwZUFkZH07XHJcbiIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IHsgRnJvbVZhbGlkYXRvciB9IGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCB7IGluaXRpYWxDYXJkcywgb2JqZWN0RnJvbVZhbGlkYXRpb24sXHJcbiAgcG9wdXBFZGl0UHJvZmlsZSwgcG9wdXBFZGl0Q2FyZCwgcG9wdXBWaWV3SW1hZ2UsXHJcbiAgIHByb2ZpbGVUaXRsZSwgcHJvZmlsZVN1YnRpdGxlLCBlbGVtZW50Q29udGFpbmVyLFxyXG4gICBwcm9maWxlRWRpdEJ1dHRvbiwgcHJvZmlsZUFkZENhcmRCdXR0b24sXHJcbiAgICBmb3JtVHlwZUVkaXQsIGZvcm1UeXBlQWRkIH0gZnJvbSAnLi4vdXRpbHMvZGF0YS5qcyc7XHJcblxyXG4vLyDRhNGD0L3QutGG0LjRjyDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuZnVuY3Rpb24gY3JlYXRlQ2FyZCAoaXRlbSkge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChpdGVtLCBcIi5jYXJkcy1lbGVtZW50XCIsIHZpZXdJbWFnZUNhcmQpLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIGluaXRpYWxDYXJkc0xpc3QuYWRkSXRlbShuZXdDYXJkKTtcclxuICByZXR1cm4gbmV3Q2FyZDtcclxufVxyXG5cclxuY29uc3QgaW5pdGlhbENhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKHtpdGVtczogaW5pdGlhbENhcmRzLCByZW5kZXJlcjogY3JlYXRlQ2FyZH0sIGVsZW1lbnRDb250YWluZXIpO1xyXG5pbml0aWFsQ2FyZHNMaXN0LnJlbmRlckl0ZW1zKCk7XHJcblxyXG5jb25zdCBtb2RhbFBvcHVwQWRkID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBFZGl0Q2FyZCwgKGRhdGFJbnB1dHMpID0+IHtcclxuICBpbml0aWFsQ2FyZHNMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChkYXRhSW5wdXRzKSk7XHJcbiAgdmFsaWRhdG9yVHlwZUFkZC5kaXNhYmxlZEJ1dHRvbigpO1xyXG59KTtcclxubW9kYWxQb3B1cEFkZC5zZXRFdmVudExpc3RlbmVyc0Zvcm0oKTtcclxuXHJcblxyXG4vLyDRgdC+0LHRi9GC0LjQtSDQv9C+INC60L3QvtC/0LrQtSDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbnByb2ZpbGVBZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgdmFsaWRhdG9yVHlwZUFkZC5jbGVhckVycm9yKCk7XHJcbiAgbW9kYWxQb3B1cEFkZC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyh7bmFtZUlucHV0OiBwcm9maWxlVGl0bGUsIGpvYklucHV0OiBwcm9maWxlU3VidGl0bGV9KTtcclxuY29uc3QgbW9kYWxQb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEVkaXRQcm9maWxlLCAoZGF0YUlucHV0cykgPT4ge1xyXG4gIHVzZXIuc2V0VXNlckluZm8oZGF0YUlucHV0cyk7XHJcbiAgdmFsaWRhdG9yVHlwZUVkaXQuZGlzYWJsZWRCdXR0b24oKTtcclxufSk7XHJcbm1vZGFsUG9wdXBQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzRm9ybSgpO1xyXG5cclxuXHJcbi8vINGB0L7QsdGL0YLQuNC1INC/0L4g0LrQvdC+0L/QutC1INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0L/RgNC+0YTQuNC70Y9cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIgLCBmdW5jdGlvbiAoKSB7XHJcbiAgbW9kYWxQb3B1cFByb2ZpbGUuc2V0SW5wdXRWYWx1ZXModXNlci5nZXRVc2VySW5mbygpKTtcclxuICB2YWxpZGF0b3JUeXBlRWRpdC5jbGVhckVycm9yKCk7XHJcbiAgbW9kYWxQb3B1cFByb2ZpbGUub3BlbigpO1xyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwVmlld0ltYWdlKTtcclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINGE0YPQvdC60YbQuNGPINC+0YLQvtCx0YDQsNC20LXQvdC40Y8g0LrQsNGA0YLQuNC90LrQuCDQvdCwINCy0LXRgdGMINGN0LrRgNCw0L1cclxuZnVuY3Rpb24gdmlld0ltYWdlQ2FyZCAobmFtZSwgbGluaykge1xyXG4gIHBvcHVwV2l0aEltYWdlLm9wZW4obmFtZSwgbGluayk7XHJcbn1cclxuXHJcblxyXG4vLyDQstCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHZhbGlkYXRvclR5cGVFZGl0ID0gbmV3IEZyb21WYWxpZGF0b3Iob2JqZWN0RnJvbVZhbGlkYXRpb24sIGZvcm1UeXBlRWRpdCk7XHJcbnZhbGlkYXRvclR5cGVFZGl0LmVuYWJsZVZhbGlkYXRpb24oKTtcclxuLy8g0LLQsNC70LjQtNCw0YbQuNGPINGE0L7RgNC80Ysg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCB2YWxpZGF0b3JUeXBlQWRkID0gbmV3IEZyb21WYWxpZGF0b3Iob2JqZWN0RnJvbVZhbGlkYXRpb24sIGZvcm1UeXBlQWRkKTtcclxudmFsaWRhdG9yVHlwZUFkZC5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhIiwiY2FyZFRlbWxhdGVTZWxlY3RvciIsInZpZXdJbWFnZUNhcmQiLCJfZWxlbWVudCIsInJlbW92ZSIsImV2dCIsInRhcmdldCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFRlbWxhdGVTZWxlY3RvciIsIl92aWV3SW1hZ2VDYXJkIiwiX2dldFRlbXBsYXRlIiwiX2ltYWdlIiwicXVlcnlTZWxlY3RvciIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9zZXRFdmVudExpc3RlbmVyIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2UiLCJfaGFuZGxlRGVsIiwiRnJvbVZhbGlkYXRvciIsIm9iamVjdEZvcm1WYWxpZCIsImZvcm1FbGVtZW50IiwiX29iamVjdEZvcm1WYWxpZCIsIl9mb3JtRWxlbWVudCIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50IiwiX2lzVmFsaWQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvck1lc3NhZ2UiLCJfZXJyb3IiLCJpZCIsImFkZCIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkQnV0dG9uIiwiYWN0aXZhdGVCdXR0b24iLCJzZXRBdHRyaWJ1dGUiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwicmVtb3ZlQXR0cmlidXRlIiwiU2VjdGlvbiIsInNlbGVjdG9yQ29udGFpbmVyIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9jb250YWluZXIiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInNlbGVjdG9yUG9wdXAiLCJfcG9wdXAiLCJfY2xvc2VQb3B1cEJ5RXNjIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjdXJyZW50VGFyZ2V0IiwiY29udGFpbnMiLCJjbG9zZSIsImtleSIsIlBvcHVwV2l0aEltYWdlIiwiaW1hZ2VQb3B1cCIsInRleHQiLCJQb3B1cFdpdGhGb3JtIiwiY2FsbGJhY2tTdWJtaXRGb3JtIiwiX2Zvcm0iLCJyZXNldCIsIl9jYWxsYmFja1N1Ym1pdEZvcm0iLCJfZm9ybUlucHV0cyIsImZvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJVc2VySW5mbyIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiX2Rlc2NyaXB0aW9uIiwiam9iIiwib2JqZWN0RnJvbVZhbGlkYXRpb24iLCJmb3JtU2VsZWN0b3IiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVBZGRDYXJkQnV0dG9uIiwiZm9ybVR5cGVFZGl0IiwiZm9ybVR5cGVBZGQiLCJjcmVhdGVDYXJkIiwibmV3Q2FyZCIsImdlbmVyYXRlQ2FyZCIsImluaXRpYWxDYXJkc0xpc3QiLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJtb2RhbFBvcHVwQWRkIiwiZGF0YUlucHV0cyIsInZhbGlkYXRvclR5cGVBZGQiLCJzZXRFdmVudExpc3RlbmVyc0Zvcm0iLCJjbGVhckVycm9yIiwib3BlbiIsInVzZXIiLCJtb2RhbFBvcHVwUHJvZmlsZSIsInNldFVzZXJJbmZvIiwidmFsaWRhdG9yVHlwZUVkaXQiLCJzZXRJbnB1dFZhbHVlcyIsImdldFVzZXJJbmZvIiwicG9wdXBXaXRoSW1hZ2UiLCJzZXRFdmVudExpc3RlbmVycyIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9